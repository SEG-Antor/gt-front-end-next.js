(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[151],{7068:function(n,e,t){Promise.resolve().then(t.bind(t,9181))},9181:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return x}});var r=t(7437),o=t(230),a=t(6965),i=t(2265),l=t(802),d=t(9729),c=t(6716),s=t(9584);function u(){let n=(0,o._)(["\n  border-bottom: 1px solid black;\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  padding: 1rem;\n\n  span button{\n    background: black;\n    color: white;\n    padding: 5px;\n    border-radius: 5px;\n    margin: 5px;\n  }\n\n  div{\n    grid-column: 1/ span 2;\n  }\n\n"]);return u=function(){return n},n}function p(){let n=(0,o._)(["\n  width: 100%;\n  grid-column: span 2;\n  margin:3rem 0;\n  display: block;\n\n  input{\n    border: 1px solid;\n    border-radius: 5px;\n    padding: 5px;\n    padding-left: 1rem;\n    margin-right: 1rem;\n  }\n\n  button {\n    background: black;\n    color: white;\n    padding: 5px;\n  }\n"]);return p=function(){return n},n}function g(){let n=(0,o._)(["\n  color: black;\n  background: #7CFFBB;\n  padding: 5px;\n  border-radius: 5px;\n  display: block;\n"]);return g=function(){return n},n}let m=l.zo.div(u()),f=l.zo.form(p()),b=l.zo.button(g());var h=n=>{let{catagory:e,setUpdate:t}=n,[o,l]=(0,i.useState)(!1),[u,p]=(0,i.useState)(0),[g,h]=(0,i.useState)(e.images||[]);function x(){l(n=>!n)}return(0,r.jsxs)(m,{children:[(0,r.jsx)("big",{children:null==e?void 0:e.modelName}),(0,r.jsxs)("span",{children:[(0,r.jsxs)("button",{onClick:x,children:[o?"close":"edit","  "]}),(0,r.jsx)("button",{onClick:function(){confirm("are you sure, want to delete this catagory ?")&&a.Z.delete("deleteSingleCatagory/".concat(e._id)).then(n=>t(n=>!n)).catch(n=>console.log(n))},children:" delete"})]}),o?(0,r.jsxs)("div",{children:[g.map((n,e)=>(0,r.jsx)(d.Z,{image:n,setImages:h},e)),(0,r.jsx)(b,{onClick:n=>{let e=document.createElement("input");e.type="file",e.click(),e.onchange=n=>{let e=n.target.files[0];if(console.log(e),!e)return;let t="files/".concat(e.name),r=(0,s.iH)(c.t,t),o=(0,s.B0)(r,e);o.on("state_changed",n=>{let e=Math.round(n.bytesTransferred/n.totalBytes*100);p(e)},n=>{alert(n)},()=>{(0,s.Jt)(o.snapshot.ref).then(n=>{h(e=>[...e,{url:n,filename:t}])})})}},children:" Add image"}),(0,r.jsxs)(f,{onSubmit:function(n){n.preventDefault(),a.Z.patch("updateparentcatagory/".concat(e._id),{modelName:n.target.productModel.value,description:n.target.description.value,images:g}).then(n=>{t(n=>!n),x()}).catch(n=>console.log(n))},children:[(0,r.jsx)("input",{name:"productModel",type:"text",placeholder:"updated model name",required:!0}),(0,r.jsx)("input",{name:"description",type:"text",placeholder:"updatedd description"}),(0,r.jsx)("button",{type:"submit",children:" submit "})]})]}):""]})},x=()=>{let[n,e]=(0,i.useState)([]),[t,o]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{a.Z.get("allparentscatagories").then(n=>e(n.data))},[,t]),(0,r.jsx)("div",{children:n.map(n=>(0,r.jsx)(h,{catagory:n,setUpdate:o},n._id))})}},9729:function(n,e,t){"use strict";var r=t(230),o=t(7437);t(2265);var a=t(802),i=t(9584),l=t(6716);function d(){let n=(0,r._)(["\n  border: 2px solid red;\n  display: inline-block;\n  position: relative;\n\n  img{\n    width: 100px;\n    display: inline-flex;\n  }\n\n  button{\n    position: absolute;\n    bottom: 0;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    display: none;\n    color: red;\n\n    background: black;\n    padding: 5px;\n    border-radius: 5px;\n  }\n\n  &:hover button{\n    display: block;\n  }\n\n"]);return d=function(){return n},n}let c=a.zo.div(d());e.Z=n=>{let{image:e,setImages:t}=n;return(0,o.jsxs)(c,{children:[(0,o.jsx)("button",{onClick:()=>(function(n){let e=(0,i.iH)(l.t,null==n?void 0:n.filename);(0,i.oq)(e).then(()=>{alert("deleted the image"),t(e=>e.filter(e=>e.filename!==n.filename))}).catch(n=>console.log("error ***: ",n))})(e),children:" Delete "}),(0,o.jsx)("img",{src:null==e?void 0:e.url,alt:"product image"})]})}},6965:function(n,e,t){"use strict";var r=t(9222);let o=r.Z.create({baseURL:"http://localhost:5000/"});e.Z=o},6716:function(n,e,t){"use strict";t.d(e,{t:function(){return i}});var r=t(994),o=t(9584);let a=(0,r.ZF)({apiKey:"AIzaSyBFoGhOr2l4aRV_wP-1TLt3HymKtTW_Qy0",authDomain:"global-traders-usa-84059.firebaseapp.com",projectId:"global-traders-usa-84059",storageBucket:"global-traders-usa-84059.appspot.com",messagingSenderId:"1069022321540",appId:"1:1069022321540:web:419c5d35f4cdd4c64f5bd1"}),i=(0,o.cF)(a)}},function(n){n.O(0,[576,451,971,596,744],function(){return n(n.s=7068)}),_N_E=n.O()}]);